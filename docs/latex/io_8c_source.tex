\hypertarget{io_8c_source}{}\doxysection{io.\+c}
\label{io_8c_source}\index{io.c@{io.c}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#include <unistd.h>}}
\DoxyCodeLine{00002 \textcolor{preprocessor}{\#include <errno.h>}}
\DoxyCodeLine{00003 \textcolor{preprocessor}{\#include <stdlib.h>}}
\DoxyCodeLine{00004 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{00005 }
\DoxyCodeLine{\Hypertarget{io_8c_source_l00006}\mbox{\hyperlink{io_8c_a3e36564ae4e5e4bbcab862ae80aedc8c}{00006}} \textcolor{keywordtype}{char}* \mbox{\hyperlink{io_8c_a3e36564ae4e5e4bbcab862ae80aedc8c}{readln}}(\textcolor{keywordtype}{int} fd, ssize\_t max)\{}
\DoxyCodeLine{00007   \textcolor{keywordtype}{char} b;}
\DoxyCodeLine{00008   \textcolor{keywordtype}{char} \textcolor{keyword}{static} \textcolor{keyword}{new}[2048];}
\DoxyCodeLine{00009   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} c = 0;}
\DoxyCodeLine{00010   \textcolor{keywordtype}{long} l = 0;}
\DoxyCodeLine{00011   \textcolor{keywordtype}{long} r;}
\DoxyCodeLine{00012   \textcolor{keywordflow}{while} ((r = read(fd,\&b,1)) == -\/1 \&\& errno==EINTR)\{}
\DoxyCodeLine{00013     \textcolor{keyword}{new}[c++] = b;}
\DoxyCodeLine{00014     \textcolor{keywordflow}{if} (b == \textcolor{charliteral}{'\(\backslash\)n'})\{}
\DoxyCodeLine{00015       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00016     \}}
\DoxyCodeLine{00017   \}}
\DoxyCodeLine{00018   \textcolor{keywordflow}{return} realloc(\textcolor{keyword}{new},c);}
\DoxyCodeLine{00019 \}}
\DoxyCodeLine{00020 }
\DoxyCodeLine{\Hypertarget{io_8c_source_l00021}\mbox{\hyperlink{io_8c_a133b4fecccc62ec9df50f27554da0dfb}{00021}} \textcolor{keywordtype}{char} *\mbox{\hyperlink{io_8c_a133b4fecccc62ec9df50f27554da0dfb}{convert\_argv\_to\_v}} (\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char} *argv[], \textcolor{keywordtype}{int} max)}
\DoxyCodeLine{00022 \{}
\DoxyCodeLine{00023   \textcolor{keywordtype}{char} \textcolor{keyword}{static} \textcolor{keyword}{new}[2048];}
\DoxyCodeLine{00024   \textcolor{keywordtype}{int} c = 0;}
\DoxyCodeLine{00025   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < max; i++)}
\DoxyCodeLine{00026   \{}
\DoxyCodeLine{00027     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; argv[i][j] != 0; j++)}
\DoxyCodeLine{00028       \textcolor{keyword}{new}[c++] = argv[i][j];}
\DoxyCodeLine{00029     \textcolor{keywordflow}{if} (i < argc -\/ 1)}
\DoxyCodeLine{00030       \textcolor{keyword}{new}[c++] = \textcolor{charliteral}{' '};}
\DoxyCodeLine{00031   \}}
\DoxyCodeLine{00032   \textcolor{keyword}{new}[c] = 0;}
\DoxyCodeLine{00033   \textcolor{keywordflow}{return} \textcolor{keyword}{new};}
\DoxyCodeLine{00034 \}}

\end{DoxyCode}
